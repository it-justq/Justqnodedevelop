<div class="container-width-content">
    <p id="container-titulo">Tipos de control <a href="/intranet/administracion/controles/nuevo">Nuevo tipo de control <i class="bi bi-plus-circle"></i></a></p>

    <div class="containerFilter">
        <button class='toggleFilter'>Filtros</button>
        <form class="contentFilter" action="/intranet/administracion/controles/search" method="POST">
            <div class="contentFilterContainer">
                <label>Nombre</label>
                <input type="text" name="control_tipo_nombre" placeholder="Tipo de control">
            </div>

            <input type="hidden" name="_csrf" value="{{csrfToken}}">
            <button id="list-search-btn" class="contentFilterSubmit" type="submit">Aplicar filtros</button>
        </form>

    </div>

    <table class="tableList" id="tableControles">
        <thead>
            <tr>
                <td>Nombre (español)</td>
                <td>Nombre (inglés)</td>
                <td>Estado</td>
            </tr>
        </thead>
        <tbdoy>
            {{#each data}}
                <tr onclick="modTipoControl('{{control_tipo_id}}','{{control_tipo_nombre}}', '{{control_tipo_nombre_en}}')">
                    <td>{{control_tipo_nombre}}</td>
                    <td>{{control_tipo_nombre_en}}</td>
                    <td><label class="tc-list-table-status {{#iffcond control_tipo_estado_id '===' 0}}tc-list-table-status-inactive"{{/iffcond}}{{#iffcond control_tipo_estado_id '===' 1}}tc-list-table-status-active"{{/iffcond}}>{{control_tipo_estado_nombre}}</label></td>
                </tr>
            {{/each}}
        </tbdoy>
    </table>

    <div class="popup-form" id="formTipoControl">
        <form id="options-ct" method="POST" action="/intranet/administracion/controles/tipo-control/tipoControl.value">
            <p class="contentDataContainerTitle">Modificar tipo de control</p>
            
            <div class="contentDataContainer">
                <label>Nombre (español)</label>
                <input id="tipo_control_es" name="tipo_control_es" type="text" required>
            </div>
            <div class="contentDataContainer">
                <label>Nombre (ingles)</label>
                <input id="tipo_control_en" name="tipo_control_en" type="text" required>
            </div>
            <div class="contentDataContainer">
                <label>Estado</label>
                <select name="estado">
                    <option value="1">Activo</option>
                    <option value="0">No activo</option>
                </select>
            </div>

            <input type="hidden" name="_csrf" value="{{csrfToken}}"> 
            <input type="hidden" name="tipo_control_id" value="" id="tipoControl">          

            <button type="submit">Guardar</button>
            <button type="button" onclick="goTipoControl(tipoControl.value)">Ver más</button>
            <button type="button" onclick="closeForm()">Cerrar</button>
        </form>
    </div> 

</div>